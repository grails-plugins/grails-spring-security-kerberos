<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Spring Security Kerberos Plugin 1.0.0</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#introduction"><strong>1</strong><span>Introduction to the Spring Security Kerberos Plugin</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#usage"><strong>2</strong><span>Usage</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>Spring Security Kerberos plugin</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Spring Security Kerberos Plugin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Burt Beckwith</p>
                            <p><strong>Version:</strong> 1.0.0</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#introduction"><strong>1</strong><span>Introduction to the Spring Security Kerberos Plugin</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#history"><strong>1.1</strong><span>History</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#usage"><strong>2</strong><span>Usage</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="introduction">1 Introduction to the Spring Security Kerberos Plugin</h1>
The Kerberos plugin adds <a href="http://web.mit.edu/kerberos/" target="blank">Kerberos</a> single sign-on support to a Grails application that uses Spring Security. It depends on the <a href="http://grails.org/plugin/spring-security-core" target="blank">Spring Security Core plugin</a>.<p class="paragraph"/>Once you have configured a Kerberos server (typically Microsoft Active Directory or MIT Kerberos) and have configured your Grails application(s) as clients, users who are have authenticated at the Kerberos server will be automatically authenticated as a user of your application(s) without requiring a password.



<h2 id="history">1.1 History</h2>
<ul class="star">
<li>Version 1.0.0</li>
<ul class="star">
<li>released December 7, 2015</li>
</ul>
<li>Version 1.0-RC1</li>
<ul class="star">
<li>released October 24, 2013</li>
</ul>
<li>Version 0.1</li>
<ul class="star">
<li>released January 30, 2011</li>
</ul></ul><p class="paragraph"/>


<h1 id="usage">2 Usage</h1>
<blockquote class="note">
Configuring your Kerberos server is beyond the scope of this document. There are several options and this will most likely be done by IT staff. It's assumed here that you already have a running Kerberos server.
</blockquote><p class="paragraph"/>The plugin adds support for Kerberos and is based on the <a href="http://projects.spring.io/spring-security-kerberos/" target="blank">Spring Security Kerberos extension</a>.<p class="paragraph"/>There isn't much that you need to do in your application to be a Kerberos client. Just install this plugin, and configure the two required parameters and whatever optional parameters you want in <code>Config.groovy</code>. These are described in detail in guide:3. Configuration but typically you only need to set these properties<p class="paragraph"/><div class="code"><pre>grails.plugin.springsecurity.kerberos.ticketValidator.servicePrincipal =
      'HTTP/kerberos.server.name@KERBEROS.DOMAIN'<p class="paragraph"/>grails.plugin.springsecurity.kerberos.ticketValidator.keyTabLocation =
      'file:///path/to/your.keytab'</pre></div><p class="paragraph"/><h4>UserDetailsService</h4><p class="paragraph"/>Currently the only information that is retrieved from Kerberos is the username (plus the authentication status of course) so you'll need to have user and role data in your database corresponding to Kerberos users. Since you'll be authenticating externally you can either remove the password field from the user class and use a custom <code>UserDetailsService</code> or just store dummy values in the password column to satisfy the not-null constraint.



<h1 id="configuration">3 Configuration</h1>
There are a few configuration options for the Kerberos plugin.<p class="paragraph"/>The plugin uses the <a href="http://projects.spring.io/spring-security-kerberos/" target="blank">Spring Security Kerberos extension</a>.<p class="paragraph"/><blockquote class="note">
All of these property overrides must be specified in <code>grails-app/conf/Config.groovy</code> using the <code>grails.plugin.springsecurity</code> suffix, for example
<div class="code"><pre>grails.plugin.springsecurity.kerberos.debug = <span class="java&#45;keyword">true</span></pre></div>
</blockquote><p class="paragraph"/>There are two required properties:
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Default</strong></th><th><strong class="bold">Meaning</strong></th></tr><tr class="table-odd"><td>kerberos.ticketValidator.servicePrincipal</td><td>none, required</td><td>the web application service principal, e.g. <code>HTTP/www.example.com&#64;EXAMPLE.COM</code></td></tr><tr class="table-even"><td>kerberos.ticketValidator.keyTabLocation</td><td>none, required</td><td>the URL to the location of the keytab file containing the service principal's credentials, e.g. <code>file:///etc/http-web.keytab</code></td></tr></table><p class="paragraph"/>and some optional properties:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Default</strong></th><th><strong class="bold">Meaning</strong></th></tr><tr class="table-odd"><td>kerberos.active</td><td><code>true</code></td><td>set to <code>false</code> to disable the plugin</td></tr><tr class="table-even"><td>kerberos.client.debug</td><td><code>false</code></td><td>if <code>true</code> enables debug logs for the kerberos client bean</td></tr><tr class="table-odd"><td>kerberos.configLocation</td><td><code>null</code></td><td>The location of the Kerberos config file (specify the path to the file, but omit "file://", e.g. "c:/krb5.conf"). Leave unset to use the default location (e.g. <code>/etc/krb5.conf</code>, <code>c:&#119;innt&#107;rb5.ini</code>, <code>/etc/krb5/krb5.conf</code>)</td></tr><tr class="table-even"><td>kerberos.debug</td><td><code>false</code></td><td>if <code>true</code> enables debug logs for the kerberosConfig bean</td></tr><tr class="table-odd"><td>kerberos.skipIfAlreadyAuthenticated</td><td><code>true</code></td><td>if <code>true</code> skip SpnegoAuthenticationProcessingFilter processing if already authenticated</td></tr><tr class="table-even"><td>kerberos.spnegoEntryPointForwardUrl</td><td><code>null</code></td><td>if set (e.g. '/login/auth') the EntryPoint will forward there in addition to setting the WWW-Authenticate header</td></tr><tr class="table-odd"><td>kerberos.successHandler.headerName</td><td>'WWW-Authenticate'</td><td>the name of the header to set following successful authentication</td></tr><tr class="table-even"><td>kerberos.successHandler.headerPrefix</td><td>'Negotiate '</td><td>the prefix for the encoded response token value</td></tr><tr class="table-odd"><td>kerberos.ticketValidator.debug</td><td><code>false</code></td><td>if <code>true</code> enables debug logs for the ticketValidator bean</td></tr><tr class="table-even"><td>kerberos.ticketValidator.holdOnToGSSContext</td><td><code>false</code></td><td>if <code>true</code>, hold on to the GSS security context, otherwise call <code>dispose()</code> immediately</td></tr></table>


                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
